!function(){"use strict";window.HYPER={},window.loop={}}(),function(){"use strict";var t={},e=null,n=!0,s=!1;try{"undefined"!=typeof AudioContext?e=new AudioContext:"undefined"!=typeof webkitAudioContext?e=new webkitAudioContext:n=!1}catch(o){n=!1}if(!n)if("undefined"!=typeof Audio)try{new Audio}catch(o){s=!0}else s=!0;if(n){var h="undefined"==typeof e.createGain?e.createGainNode():e.createGain();h.gain.value=1,h.connect(e.destination)}var r=function(t){this._volume=1,this._muted=!1,this.usingWebAudio=n,this.ctx=e,this.noAudio=s,this._howls=[],this._codecs=t,this.iOSAutoEnable=!0};r.prototype={volume:function(t){var e=this;if(t=parseFloat(t),t>=0&&1>=t){e._volume=t,n&&(h.gain.value=t);for(var s in e._howls)if(e._howls.hasOwnProperty(s)&&e._howls[s]._webAudio===!1)for(i=0;i<e._howls[s]._audioNode.length;i++)e._howls[s]._audioNode[i].volume=e._howls[s]._volume*e._volume;return e}return n?h.gain.value:e._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(t){var e=this;e._muted=t,n&&(h.gain.value=t?0:e._volume);for(var s in e._howls)if(e._howls.hasOwnProperty(s)&&e._howls[s]._webAudio===!1)for(i=0;i<e._howls[s]._audioNode.length;i++)e._howls[s]._audioNode[i].muted=t},codecs:function(t){return this._codecs[t]},_enableiOSAudio:function(){var t=this;if(!e||!t._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){t._iOSEnabled=!1;var i=function(){var n=e.createBuffer(1,1,22050),s=e.createBufferSource();s.buffer=n,s.connect(e.destination),"undefined"==typeof s.start?s.noteOn(0):s.start(0),setTimeout(function(){(s.playbackState===s.PLAYING_STATE||s.playbackState===s.FINISHED_STATE)&&(t._iOSEnabled=!0,t.iOSAutoEnable=!1,window.removeEventListener("touchstart",i,!1))},0)};return window.addEventListener("touchstart",i,!1),t}}};var a=null,d={};s||(a=new Audio,d={mp3:!!a.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var u=new r(d),p=function(t){var i=this;HYPER.Assets.load++,i._autoplay=t.autoplay||!1,i._buffer=t.buffer||!1,i._duration=t.duration||0,i._format=t.format||null,i._loop=t.loop||!1,i._loaded=!1,i._sprite=t.sprite||{},i._src=t.src||"",i._pos3d=t.pos3d||[0,0,-.5],i._volume=void 0!==t.volume?t.volume:1,i._urls=t.urls||[],i._rate=t.rate||1,i._model=t.model||null;var s=t.onload;t.onload=function(){s(),HYPER.Assets.loaded++},i._onload=[t.onload||function(){}],i._onloaderror=[t.onloaderror||function(){}],i._onend=[t.onend||function(){}],i._onpause=[t.onpause||function(){}],i._onplay=[t.onplay||function(){}],i._onendTimer=[],i._webAudio=n&&!i._buffer,i._audioNode=[],i._webAudio&&i._setupAudioNode(),"undefined"!=typeof e&&e&&u.iOSAutoEnable&&u._enableiOSAudio(),u._howls.push(i),i.load()};if(p.prototype={load:function(){var t=this,e=null;if(s)return void t.on("loaderror");for(i=0;i<t._urls.length;i++){var n,o;if(t._format)n=t._format;else{if(o=t._urls[i],n=/^data:audio\/([^;,]+);/i.exec(o),n||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),!n)return void t.on("loaderror");n=n[1].toLowerCase()}if(d[n]){e=t._urls[i];break}}if(!e)return void t.on("loaderror");if(t._src=e,t._webAudio)f(t,e);else{var h=new Audio;h.addEventListener("error",function(){h.error&&4===h.error.code&&(r.noAudio=!0),t.on("loaderror",{type:h.error?h.error.code:0})},!1),t._audioNode.push(h),h.src=e,h._pos=0,h.preload="auto",h.volume=u._muted?0:t._volume*u.volume();var a=function(){t._duration=Math.ceil(10*h.duration)/10,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play(),h.removeEventListener("canplaythrough",a,!1)};h.addEventListener("canplaythrough",a,!1),h.load()}return t},urls:function(t){var e=this;return t?(e.stop(),e._urls="string"==typeof t?[t]:t,e._loaded=!1,e.load(),e):e._urls},play:function(t,i){var n=this;return"function"==typeof t&&(i=t),t&&"function"!=typeof t||(t="_default"),n._loaded?n._sprite[t]?(n._inactiveNode(function(s){s._sprite=t;var o=s._pos>0?s._pos:n._sprite[t][0]/1e3,h=0;n._webAudio?(h=n._sprite[t][1]/1e3-s._pos,s._pos>0&&(o=n._sprite[t][0]/1e3+o)):h=n._sprite[t][1]/1e3-(o-n._sprite[t][0]/1e3);var r,a=!(!n._loop&&!n._sprite[t][2]),d="string"==typeof i?i:Math.round(Date.now()*Math.random())+"";if(function(){var e={id:d,sprite:t,loop:a};r=setTimeout(function(){!n._webAudio&&a&&n.stop(e.id).play(t,e.id),n._webAudio&&!a&&(n._nodeById(e.id).paused=!0,n._nodeById(e.id)._pos=0,n._clearEndTimer(e.id)),n._webAudio||a||n.stop(e.id),n.on("end",d)},1e3*h),n._onendTimer.push({timer:r,id:e.id})}(),n._webAudio){var p=n._sprite[t][0]/1e3,f=n._sprite[t][1]/1e3;s.id=d,s.paused=!1,y(n,[a,p,f],d),n._playStart=e.currentTime,s.gain.value=n._volume,"undefined"==typeof s.bufferSource.start?a?s.bufferSource.noteGrainOn(0,o,86400):s.bufferSource.noteGrainOn(0,o,h):a?s.bufferSource.start(0,o,86400):s.bufferSource.start(0,o,h)}else{if(4!==s.readyState&&(s.readyState||!navigator.isCocoonJS))return n._clearEndTimer(d),function(){var e=n,o=t,h=i,r=s,a=function(){e.play(o,h),r.removeEventListener("canplaythrough",a,!1)};r.addEventListener("canplaythrough",a,!1)}(),n;s.readyState=4,s.id=d,s.currentTime=o,s.muted=u._muted||s.muted,s.volume=n._volume*u.volume(),setTimeout(function(){s.play()},0)}return n.on("play"),"function"==typeof i&&i(d),n}),n):("function"==typeof i&&i(),n):(n.on("load",function(){n.play(t,i)}),n)},pause:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.pause(t)}),e;e._clearEndTimer(t);var i=t?e._nodeById(t):e._activeNode();if(i)if(i._pos=e.pos(null,t),e._webAudio){if(!i.bufferSource||i.paused)return e;i.paused=!0,"undefined"==typeof i.bufferSource.stop?i.bufferSource.noteOff(0):i.bufferSource.stop(0)}else i.pause();return e.on("pause"),e},stop:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.stop(t)}),e;e._clearEndTimer(t);var i=t?e._nodeById(t):e._activeNode();if(i)if(i._pos=0,e._webAudio){if(!i.bufferSource||i.paused)return e;i.paused=!0,"undefined"==typeof i.bufferSource.stop?i.bufferSource.noteOff(0):i.bufferSource.stop(0)}else isNaN(i.duration)||(i.pause(),i.currentTime=0);return e},mute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.mute(t)}),e;var i=t?e._nodeById(t):e._activeNode();return i&&(e._webAudio?i.gain.value=0:i.muted=!0),e},unmute:function(t){var e=this;if(!e._loaded)return e.on("play",function(){e.unmute(t)}),e;var i=t?e._nodeById(t):e._activeNode();return i&&(e._webAudio?i.gain.value=e._volume:i.muted=!1),e},volume:function(t,e){var i=this;if(t=parseFloat(t),t>=0&&1>=t){if(i._volume=t,!i._loaded)return i.on("play",function(){i.volume(t,e)}),i;var n=e?i._nodeById(e):i._activeNode();return n&&(i._webAudio?n.gain.value=t:n.volume=t*u.volume()),i}return i._volume},loop:function(t){var e=this;return"boolean"==typeof t?(e._loop=t,e):e._loop},sprite:function(t){var e=this;return"object"==typeof t?(e._sprite=t,e):e._sprite},pos:function(t,n){var s=this;if(!s._loaded)return s.on("load",function(){s.pos(t)}),"number"==typeof t?s:s._pos||0;t=parseFloat(t);var o=n?s._nodeById(n):s._activeNode();if(o)return t>=0?(s.pause(n),o._pos=t,s.play(o._sprite,n),s):s._webAudio?o._pos+(e.currentTime-s._playStart):o.currentTime;if(t>=0)return s;for(i=0;i<s._audioNode.length;i++)if(s._audioNode[i].paused&&4===s._audioNode[i].readyState)return s._webAudio?s._audioNode[i]._pos:s._audioNode[i].currentTime},pos3d:function(t,e,i,n){var s=this;if(e="undefined"!=typeof e&&e?e:0,i="undefined"!=typeof i&&i?i:-.5,!s._loaded)return s.on("play",function(){s.pos3d(t,e,i,n)}),s;if(!(t>=0||0>t))return s._pos3d;if(s._webAudio){var o=n?s._nodeById(n):s._activeNode();o&&(s._pos3d=[t,e,i],o.panner.setPosition(t,e,i),o.panner.panningModel=s._model||"HRTF")}return s},fade:function(t,e,n,s,o){var h=this,r=Math.abs(t-e),a=t>e?"down":"up",d=r/.01,u=n/d;if(!h._loaded)return h.on("load",function(){h.fade(t,e,n,s,o)}),h;for(h.volume(t,o),i=1;i<=d;i++)!function(){var t=h._volume+("up"===a?.01:-.01)*i,n=Math.round(1e3*t)/1e3,r=e;setTimeout(function(){h.volume(n,o),n===r&&s&&s()},u*i)}()},fadeIn:function(t,e,i){return this.volume(0).play().fade(0,t,e,i)},fadeOut:function(t,e,i,n){var s=this;return s.fade(s._volume,t,e,function(){i&&i(),s.pause(n),s.on("end")},n)},_nodeById:function(t){var e=this,n=e._audioNode[0];for(i=0;i<e._audioNode.length;i++)if(e._audioNode[i].id===t){n=e._audioNode[i];break}return n},_activeNode:function(){var t=this,e=null;for(i=0;i<t._audioNode.length;i++)if(!t._audioNode[i].paused){e=t._audioNode[i];break}return t._drainPool(),e},_inactiveNode:function(t){var e=this,n=null;for(i=0;i<e._audioNode.length;i++)if(e._audioNode[i].paused&&4===e._audioNode[i].readyState){t(e._audioNode[i]),n=!0;break}if(e._drainPool(),!n){var s;if(e._webAudio)s=e._setupAudioNode(),t(s);else{e.load(),s=e._audioNode[e._audioNode.length-1];var o=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",h=function(){s.removeEventListener(o,h,!1),t(s)};s.addEventListener(o,h,!1)}}},_drainPool:function(){for(var t,e=this,i=0,t=0;t<e._audioNode.length;t++)e._audioNode[t].paused&&i++;for(var t=e._audioNode.length-1;t>=0&&!(5>=i);t--)e._audioNode[t].paused&&(e._webAudio&&e._audioNode[t].disconnect(0),i--,e._audioNode.splice(t,1))},_clearEndTimer:function(t){var e=this,n=0;for(i=0;i<e._onendTimer.length;i++)if(e._onendTimer[i].id===t){n=i;break}var s=e._onendTimer[n];s&&(clearTimeout(s.timer),e._onendTimer.splice(n,1))},_setupAudioNode:function(){var t=this,i=t._audioNode,n=t._audioNode.length;return i[n]="undefined"==typeof e.createGain?e.createGainNode():e.createGain(),i[n].gain.value=t._volume,i[n].paused=!0,i[n]._pos=0,i[n].readyState=4,i[n].connect(h),i[n].panner=e.createPanner(),i[n].panner.panningModel=t._model||"equalpower",i[n].panner.setPosition(t._pos3d[0],t._pos3d[1],t._pos3d[2]),i[n].panner.connect(i[n]),i[n]},on:function(t,e){var n=this,s=n["_on"+t];if("function"==typeof e)s.push(e);else for(i=0;i<s.length;i++)e?s[i].call(n,e):s[i].call(n);return n},off:function(t,e){var n=this,s=n["_on"+t],o=e?e.toString():null;if(o){for(i=0;i<s.length;i++)if(o===s[i].toString()){s.splice(i,1);break}}else n["_on"+t]=[];return n},unload:function(){var e=this,i=e._audioNode;for(n=0;n<e._audioNode.length;n++)i[n].paused||(e.stop(i[n].id),e.on("end",i[n].id)),e._webAudio?i[n].disconnect(0):i[n].src="";for(var n=0;n<e._onendTimer.length;n++)clearTimeout(e._onendTimer[n].timer);index=u._howls.indexOf(e),null!==index&&index>=0&&u._howls.splice(index,1),delete t[e._src],e=null}},n)var f=function(e,n){if(n in t)return e._duration=t[n].duration,void l(e);if(/^data:[^;]+;base64,/.test(n)){var s=atob(n.split(",")[1]),o=new Uint8Array(s.length);for(i=0;i<s.length;++i)o[i]=s.charCodeAt(i);c(o.buffer,e,n)}else{var h=new XMLHttpRequest;h.open("GET",n,!0),h.responseType="arraybuffer",h.onload=function(){c(h.response,e,n)},h.onerror=function(){e._webAudio&&(e._buffer=!0,e._webAudio=!1,e._audioNode=[],delete e._gainNode,delete t[n],e.load())};try{h.send()}catch(r){h.onerror()}}},c=function(i,n,s){e.decodeAudioData(i,function(e){e&&(t[s]=e,l(n,e))},function(t){n.on("loaderror")})},l=function(t,e){t._duration=e?e.duration:t._duration,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play()},y=function(i,n,s){var o=i._nodeById(s);o.bufferSource=e.createBufferSource(),o.bufferSource.buffer=t[i._src],o.bufferSource.connect(o.panner),o.bufferSource.loop=n[0],n[0]&&(o.bufferSource.loopStart=n[1],o.bufferSource.loopEnd=n[1]+n[2]),o.bufferSource.playbackRate.value=i._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:u,Howl:p}}),"undefined"!=typeof exports&&(exports.Howler=u,exports.Howl=p),"undefined"!=typeof window&&(window.Howler=u,window.Howl=p)}(),function(){"use strict";var t=0;HYPER.Timer={_events:{tick:[],animate:[]},addEventListener:function(t,e){"tick"==t?this._events.tick.push(e):"animate"==t&&this._events.animate.push(e)}},HYPER.Timer.Tick={FPS:30,setFPS:function(t){this.FPS=t},_loop:function(){for(t=0;t<HYPER.Timer._events.tick.length;t++)HYPER.Timer._events.tick[t]();setTimeout(HYPER.Timer.Tick._loop,1e3/HYPER.Timer.Tick.FPS)}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||_animecallbackFunc}(),HYPER.Timer.Animate={FPS:60,_interval:0,_now:0,_then:0,_delta:0,setFPS:function(t){this.FPS=t},_loop:function(){if(HYPER.Timer.Animate._interval=Math.floor(1e3/HYPER.Timer.Animate.FPS),HYPER.Timer.Animate._now=Date.now(),HYPER.Timer.Animate._delta=HYPER.Timer.Animate._now-HYPER.Timer.Animate._then,HYPER.Timer.Animate._delta>=HYPER.Timer.Animate._interval){HYPER.Timer.Animate._then=HYPER.Timer.Animate._now-HYPER.Timer.Animate._delta%HYPER.Timer.Animate._interval;for(var t=0;t<HYPER.Timer._events.animate.length;t++)HYPER.Timer._events.animate[t]()}requestAnimFrame(HYPER.Timer.Animate._loop)}}}(),function(){"use strict";var t=0;HYPER.Input={},HYPER.Input.Pointer={point:[],_listeners:{mousemove:function(t){t.preventDefault(),HYPER.Input.Pointer.point[0]._x=t.pageX,HYPER.Input.Pointer.point[0]._y=t.pageY},mousedown:function(t){t.preventDefault(),HYPER.Input.Pointer.point[0]._x=t.pageX,HYPER.Input.Pointer.point[0]._y=t.pageY,HYPER.Input.Pointer.point[0]._down=!0,HYPER.Input.Pointer.point[0]._hold=!0},mouseup:function(t){t.preventDefault(),HYPER.Input.Pointer.point[0]._x=t.pageX,HYPER.Input.Pointer.point[0]._y=t.pageY,HYPER.Input.Pointer.point[0]._up=!0,HYPER.Input.Pointer.point[0]._hold=!1},dblclick:function(t){t.preventDefault(),HYPER.Input.Pointer.point[0]._x=t.pageX,HYPER.Input.Pointer.point[0]._y=t.pageY,HYPER.Input.Pointer.point[0]._dbclick=!0},touchmove:function(t){t.preventDefault(),HYPER.Input.Pointer.point[t.which]._x=t.changedTouches[t.which].pageX,HYPER.Input.Pointer.point[t.which]._y=t.changedTouches[t.which].pageY},touchstart:function(t){t.preventDefault(),HYPER.Input.Pointer.point[t.which]._x=t.changedTouches[t.which].pageX,HYPER.Input.Pointer.point[t.which]._y=t.changedTouches[t.which].pageY,HYPER.Input.Pointer.point[t.which]._down=!0,HYPER.Input.Pointer.point[t.which]._hold=!0},touchend:function(t){t.preventDefault(),HYPER.Input.Pointer.point[t.which]._x=t.changedTouches[t.which].pageX,HYPER.Input.Pointer.point[t.which]._y=t.changedTouches[t.which].pageY,HYPER.Input.Pointer.point[t.which]._up=!0,HYPER.Input.Pointer.point[t.which]._hold=!1},preventDefault:function(t){t.preventDefault()}},getPointer:function(t){return HYPER.Input.Pointer.point[t]}},HYPER.Input.Keys={key:[],_listeners:{keyup:function(t){HYPER.Input.Keys.key[t.which]._up=!0,HYPER.Input.Keys.key[t.which]._hold=!1},keydown:function(t){HYPER.Input.Keys.key[t.which]._down=!0,HYPER.Input.Keys.key[t.which]._hold=!0}},getKey:function(t){return"backspace"==t?HYPER.Input.Keys.key[8]:"tab"==t?HYPER.Input.Keys.key[9]:"enter"==t?HYPER.Input.Keys.key[13]:"shift"==t?HYPER.Input.Keys.key[16]:"ctrl"==t?HYPER.Input.Keys.key[17]:"alt"==t?HYPER.Input.Keys.key[18]:"pause/break"==t?HYPER.Input.Keys.key[19]:"caps lock"==t?HYPER.Input.Keys.key[20]:"escape"==t?HYPER.Input.Keys.key[27]:"page up"==t?HYPER.Input.Keys.key[33]:"page down"==t?HYPER.Input.Keys.key[34]:"end"==t?HYPER.Input.Keys.key[35]:"home"==t?HYPER.Input.Keys.key[36]:"left arrow"==t?HYPER.Input.Keys.key[37]:"up arrow"==t?HYPER.Input.Keys.key[38]:"right arrow"==t?HYPER.Input.Keys.key[39]:"down arrow"==t?HYPER.Input.Keys.key[40]:"space"==t?HYPER.Input.Keys.key[32]:"insert"==t?HYPER.Input.Keys.key[45]:"delete"==t?HYPER.Input.Keys.key[46]:"0"==t?HYPER.Input.Keys.key[48]:"1"==t?HYPER.Input.Keys.key[49]:"2"==t?HYPER.Input.Keys.key[50]:"3"==t?HYPER.Input.Keys.key[51]:"4"==t?HYPER.Input.Keys.key[52]:"5"==t?HYPER.Input.Keys.key[53]:"6"==t?HYPER.Input.Keys.key[54]:"7"==t?HYPER.Input.Keys.key[55]:"8"==t?HYPER.Input.Keys.key[56]:"9"==t?HYPER.Input.Keys.key[57]:"a"==t?HYPER.Input.Keys.key[65]:"b"==t?HYPER.Input.Keys.key[66]:"c"==t?HYPER.Input.Keys.key[67]:"d"==t?HYPER.Input.Keys.key[68]:"e"==t?HYPER.Input.Keys.key[69]:"f"==t?HYPER.Input.Keys.key[70]:"g"==t?HYPER.Input.Keys.key[71]:"h"==t?HYPER.Input.Keys.key[72]:"i"==t?HYPER.Input.Keys.key[73]:"j"==t?HYPER.Input.Keys.key[74]:"k"==t?HYPER.Input.Keys.key[75]:"l"==t?HYPER.Input.Keys.key[76]:"m"==t?HYPER.Input.Keys.key[77]:"n"==t?HYPER.Input.Keys.key[78]:"o"==t?HYPER.Input.Keys.key[79]:"p"==t?HYPER.Input.Keys.key[80]:"q"==t?HYPER.Input.Keys.key[81]:"r"==t?HYPER.Input.Keys.key[82]:"s"==t?HYPER.Input.Keys.key[83]:"t"==t?HYPER.Input.Keys.key[84]:"u"==t?HYPER.Input.Keys.key[85]:"v"==t?HYPER.Input.Keys.key[86]:"w"==t?HYPER.Input.Keys.key[87]:"x"==t?HYPER.Input.Keys.key[88]:"y"==t?HYPER.Input.Keys.key[89]:"z"==t?HYPER.Input.Keys.key[90]:"left window key"==t?HYPER.Input.Keys.key[91]:"right window key"==t?HYPER.Input.Keys.key[92]:"select key"==t?HYPER.Input.Keys.key[93]:"numpad 0"==t?HYPER.Input.Keys.key[96]:"numpad 1"==t?HYPER.Input.Keys.key[97]:"numpad 2"==t?HYPER.Input.Keys.key[98]:"numpad 3"==t?HYPER.Input.Keys.key[99]:"numpad 4"==t?HYPER.Input.Keys.key[100]:"numpad 5"==t?HYPER.Input.Keys.key[101]:"numpad 6"==t?HYPER.Input.Keys.key[102]:"numpad 7"==t?HYPER.Input.Keys.key[103]:"numpad 8"==t?HYPER.Input.Keys.key[104]:"numpad 9"==t?HYPER.Input.Keys.key[105]:"multiply"==t?HYPER.Input.Keys.key[106]:"add"==t?HYPER.Input.Keys.key[107]:"subtract"==t?HYPER.Input.Keys.key[109]:"decimal point"==t?HYPER.Input.Keys.key[110]:"divide"==t?HYPER.Input.Keys.key[111]:"f1"==t?HYPER.Input.Keys.key[112]:"f2"==t?HYPER.Input.Keys.key[113]:"f3"==t?HYPER.Input.Keys.key[114]:"f4"==t?HYPER.Input.Keys.key[115]:"f5"==t?HYPER.Input.Keys.key[116]:"f6"==t?HYPER.Input.Keys.key[117]:"f7"==t?HYPER.Input.Keys.key[118]:"f8"==t?HYPER.Input.Keys.key[119]:"f9"==t?HYPER.Input.Keys.key[120]:"f10"==t?HYPER.Input.Keys.key[121]:"f11"==t?HYPER.Input.Keys.key[122]:"f12"==t?HYPER.Input.Keys.key[123]:"num lock"==t?HYPER.Input.Keys.key[144]:"scroll lock"==t?HYPER.Input.Keys.key[145]:"semi-colon"==t?HYPER.Input.Keys.key[186]:"equal sign"==t?HYPER.Input.Keys.key[187]:"comma"==t?HYPER.Input.Keys.key[188]:"dash"==t?HYPER.Input.Keys.key[189]:"period"==t?HYPER.Input.Keys.key[190]:"forward slash"==t?HYPER.Input.Keys.key[191]:"grave accent"==t?HYPER.Input.Keys.key[192]:"open bracket"==t?HYPER.Input.Keys.key[219]:"back slash"==t?HYPER.Input.Keys.key[220]:"close braket"==t?HYPER.Input.Keys.key[221]:"single quote"==t?HYPER.Input.Keys.key[222]:void 0}},HYPER.Input._addEventListeners=function(){document.addEventListener("mousemove",HYPER.Input.Pointer._listeners.mousemove),document.addEventListener("mousedown",HYPER.Input.Pointer._listeners.mousedown),document.addEventListener("mouseup",HYPER.Input.Pointer._listeners.mouseup),document.addEventListener("dblclick",HYPER.Input.Pointer._listeners.dblclick),document.addEventListener("touchmove",HYPER.Input.Pointer._listeners.touchmove),document.addEventListener("touchstart",HYPER.Input.Pointer._listeners.touchstart),document.addEventListener("touchend",HYPER.Input.Pointer._listeners.touchend),document.addEventListener("touchcancel",HYPER.Input.Pointer._listeners.touchend),window.addEventListener("keydown",HYPER.Input.Keys._listeners.keydown),window.addEventListener("keyup",HYPER.Input.Keys._listeners.keyup),window.addEventListener("drag",HYPER.Input.Pointer._listeners.preventDefault)},HYPER.Input.init=function(){function e(){for(t=0;10>t;t++)HYPER.Input.Pointer.point[t].x=HYPER.Input.Pointer.point[t]._x,HYPER.Input.Pointer.point[t].y=HYPER.Input.Pointer.point[t]._y,HYPER.Input.Pointer.point[t].up=HYPER.Input.Pointer.point[t]._up,HYPER.Input.Pointer.point[t].down=HYPER.Input.Pointer.point[t]._down,HYPER.Input.Pointer.point[t].hold=HYPER.Input.Pointer.point[t]._hold,HYPER.Input.Pointer.point[t].dblclick=HYPER.Input.Pointer.point[t]._dblclick,HYPER.Input.Pointer.point[t]._up=!1,HYPER.Input.Pointer.point[t]._down=!1,HYPER.Input.Pointer.point[t]._dblclick=!1;for(t=0;225>t;t++)HYPER.Input.Keys.key[t].up=HYPER.Input.Keys.key[t]._up,HYPER.Input.Keys.key[t].down=HYPER.Input.Keys.key[t]._down,HYPER.Input.Keys.key[t].hold=HYPER.Input.Keys.key[t]._hold,HYPER.Input.Keys.key[t]._up=!1,HYPER.Input.Keys.key[t]._down=!1}for(t=0;10>t;t++)HYPER.Input.Pointer.point[t]={x:0,y:0,up:!1,down:!1,hold:!1,dblclick:!1,_x:0,_y:0,_up:!1,_down:!1,_hold:!1,_dblclick:!1};for(t=0;300>t;t++)HYPER.Input.Keys.key[t]={up:!1,down:!1,hold:!1,_up:!1,_down:!1,_hold:!1};HYPER.Input._addEventListeners(),HYPER.Timer.addEventListener("tick",e)}}(),function(){"use strict";HYPER.Preload={},HYPER.Preload.assets={loaded:0,load:0,getLoadedAmount:function(){return HYPER.Preload.assets.loaded},getLoaded:function(){return HYPER.Preload.assets.loaded>=HYPER.Preload.assets.load?!0:!1},resetLoaded:function(){HYPER.Preload.loaded=0,HYPER.Preload.load=0}},HYPER.Preload.Bitmap=function(t){this._viewType="bitmap",this.image=document.createElement("canvas"),this.ctx=this.image.getContext("2d"),this.img=new Image,this.img.src=t,this.onload=function(){};var e=this;HYPER.Preload.assets.load++,this.img.onload=function(){e.image.width=e.img.width,e.image.height=e.img.height,e.ctx.drawImage(e.img,0,0),HYPER.Preload.assets.loaded++,e.onload()}},HYPER.Preload.SpriteSheet=function(t){this._viewType="bitmap",this.frame={},t.frame=t.frame||{},this.frame.width="undefined"==typeof t.frame.width?0:t.frame.width,this.frame.height="undefined"==typeof t.frame.height?0:t.frame.height,this.image=document.createElement("canvas"),this.ctx=this.image.getContext("2d"),this.img=new Image,this.img.src=t.src,this.onload=function(){};var e=this;HYPER.Preload.assets.load++,this.img.onload=function(){e.image.width=e.img.width,e.image.height=e.img.height,e.ctx.drawImage(e.img,0,0),HYPER.Preload.assets.loaded++,e.framesWide=Math.floor(e.image.width/e.frame.width),e.framesTall=Math.floor(e.image.height/e.frame.height),e.onload()}},HYPER.Preload.Audio=Howl}(),function(){"use strict";HYPER.Audio=Howler}(),function(){"use strict";HYPER.Stage={current:{init:function(){},update:function(){},render:function(){},end:function(){}}},HYPER.Stage.Scene=function(t){this.init=t.init||function(){},this.update=t.update||function(){},this.render=t.render||function(){},this.end=t.end||function(){}},HYPER.Stage.change=function(t){HYPER.Stage.current.end(),t.init(),HYPER.Stage.current=t}}(),function(){"use strict";HYPER.Screen=function(t){this.autoSize=t.autoSize||!1,this.autoSizeResoloution=t.autoSizeResoloution||!1,"undefined"==typeof t.autoClear&&(t.autoClear=!0),this.autoClear=t.autoClear,this.autoSize=t.autoSize,"undefined"==typeof t.autoSize&&(t.autoSize=!0),this.autoSize=t.autoClear,"undefined"==typeof t.smoothPixels&&(t.smoothPixels=!0),this.smoothPixels=t.smoothPixels,this.width=t.width||1366,this.height=t.height||768,t.camera=t.camera||{},this.camera={width:t.camera.width||t.width||1366,height:t.camera.height||t.height||768},this._ID=Math.random()*Math.random(),this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.aspectRatio={},t.aspectRatio=t.aspectRatio||{},this.aspectRatio.width=t.aspectRatio.width||this.width,this.aspectRatio.height=t.aspectRatio.height||this.height,this.layers=[],this.actualToggleFullScreen=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)};var e=this;this.toggleFullScreen=function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&e.actualToggleFullScreen():e.canvas.onclick=function(){e.actualToggleFullScreen(),e.canvas.onclick=function(){}}},this.addLayer=function(t){this.layers.push(t)},this.removeLayer=function(t){for(i=0;i<this.layers.length;i++)(this.layers[i]._ID=t._ID)&&this.layers.splice(i,1)},this.removeAllLayers=function(){this.layers=[]},this.render=function(){this.ctx.imageSmoothingEnabled=this.smoothPixels,0==this.smoothPixels&&"pixelated"!=this.canvas.style.imageRendering?this.canvas.style.imageRendering="pixelated":1==this.smoothPixels&&""!=this.canvas.style.imageRendering&&(this.canvas.style.imageRendering=""),1==this.autoSize&&(window.innerWidth/window.innerHeight<=this.aspectRatio.width/this.aspectRatio.height?(this.width=window.innerWidth,this.height=window.innerWidth*(this.aspectRatio.height/this.aspectRatio.width)):(this.width=window.innerHeight*(this.aspectRatio.width/this.aspectRatio.height),this.height=window.innerHeight)),1==this.autoClear&&this.ctx.clearRect(0,0,this.camera.width,this.camera.height);for(var t=0;t<this.layers.length;t++)for(var e=0;e<=this.layers.length;e++)this.layers[t].zIndex==e&&1==this.layers[t].visable&&this.ctx.drawImage(this.layers[t].canvas,0,0,this.layers[t].camera.width,this.layers[t].camera.height,0,0,this.canvas.width,this.canvas.height)},this.update=function(){(this.camera.width!=this.canvas.width||this.camera.height!=this.canvas.height)&&(this.camera.width=Math.floor(this.camera.width),this.camera.height=Math.floor(this.camera.height),this.canvas.width=this.camera.width,this.canvas.height=this.camera.height),(1==this.autoSize||1==this.autoSizeResoloution)&&((this.canvas.style.width!=this.width+"px"||this.canvas.style.height!=this.height+"px")&&(this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.canvas.style.width=this.width,this.canvas.style.height=this.height),1==this.autoSizeResoloution&&(this.camera.width=this.width,this.camera.height=this.height));for(var t=0;t<this.layers.length;t++)this.layers[t].offsetLeft=this.canvas.offsetLeft,this.layers[t].offsetTop=this.canvas.offsetTop,this.layers[t].view.width=this.width,this.layers[t].view.height=this.height}}}(),function(){"use strict";HYPER.Layer=function(t){this._ID=Math.random()*Math.random(),this._ShapeType="rect",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.size={},this.size.width=this.canvas.width+50,this.size.height=this.canvas.height+50,this.size.x=-50,this.size.y=-50,"undefined"==typeof t.visable&&(t.visable=!0),this.visable=t.visable,this.paused=t.paused||!1,this.play=function(){this.paused=!1},this.pause=function(){this.paused=!0},"undefined"==typeof t.smoothPixels&&(t.smoothPixels=!0),this.smoothPixels=t.smoothPixels,"undefined"==typeof t.autoClear&&(t.autoClear=!0),this.autoClear=t.autoClear,this.smartRendering="undefined"==typeof t.smartRendering?!0:t.smartRendering,"undefined"==typeof t.alpha&&(t.alpha=1),this.alpha=t.alpha,this.useZindex=t.useZindex||!1,"undefined"==typeof t.globalCompositeOperation&&(t.globalCompositeOperation="source-over"),this.globalCompositeOperation=t.globalCompositeOperation,this.view={},this.zIndex=t.zIndex||0,t.camera=t.camera||{},this.camera={x:t.camera.x||0,y:t.camera.y||0,width:t.camera.width||t.width||1366,height:t.camera.height||t.height||768},this.canvas.width=this.camera.width,this.canvas.height=this.camera.height,this.children=[],this.addChild=function(t){this.children.push(t)},this.removeChild=function(t){for(i=0;i<this.children.length;i++)this.children[i]._ID==t._ID&&this.children.splice(i,1)},this.removeAllChildren=function(t){this.children=[]},this.render=function(){if(0==this.paused)if(this.camera.x=Math.floor(this.camera.x),this.camera.y=Math.floor(this.camera.y),this.ctx.imageSmoothingEnabled=this.smoothPixels,0==this.smoothPixels&&"pixelated"!=this.canvas.style.imageRendering?this.canvas.style.imageRendering="pixelated":1==this.smoothPixels&&""!=this.canvas.style.imageRendering&&(this.canvas.style.imageRendering=""),this.ctx.globalAlpha=this.alpha,this.ctx.globalCompositeOperation=this.globalCompositeOperation,this.ctx.translate(-this.camera.x,-this.camera.y),1==this.autoClear&&this.ctx.clearRect(this.camera.x,this.camera.y,this.camera.width,this.camera.height),1==this.useZindex)for(e=0;e<this.children.length;e++)for(var t=0;t<=this.children.length;t++)this.children.zIndex==t&&(1==this.smartRendering?1==HYPER.Physics.checkSimpleCollision(this,this.children[e])&&this.children[e]._render({camera:this.camera,ctx:this.ctx,offsetLeft:this.offsetLeft,offsetTop:this.offsetTop,view:this.view,alpha:this.alpha}):this.children[e]._render({camera:this.camera,ctx:this.ctx,offsetLeft:this.offsetLeft,offsetTop:this.offsetTop,view:this.view,alpha:this.alpha}),e>=this.children.length-1&&this.ctx.translate(this.camera.x,this.camera.y));else for(var e=0;e<this.children.length;e++)1==this.smartRendering?1==HYPER.Physics.checkSimpleCollision(this,this.children[e])&&this.children[e]._render({camera:this.camera,ctx:this.ctx,offsetLeft:this.offsetLeft,offsetTop:this.offsetTop,view:this.view,alpha:this.alpha}):this.children[e]._render({camera:this.camera,ctx:this.ctx,offsetLeft:this.offsetLeft,offsetTop:this.offsetTop,view:this.view,alpha:this.alpha}),e>=this.children.length-1&&this.ctx.translate(this.camera.x,this.camera.y)},this.update=function(){if(0==this.paused){(this.canvas.width!=this.camera.width||this.canvas.height!=this.camera.height)&&(this.canvas.width=this.camera.width,this.canvas.height=this.camera.height);for(var t=0;t<this.children.length;t++)this.children[t]._update({camera:this.camera,offsetLeft:this.offsetLeft,offsetTop:this.offsetTop,view:this.view})}this.size.width=this.canvas.width+50,this.size.height=this.canvas.height+50,this.size.x=-50,this.size.y=-50,this.x=this.camera.x,this.y=this.camera.y}}}(),function(){"use strict";HYPER.Physics={}}(),function(){"use strict";function t(t,e){return u=Math.abs(t.x+t.size.x-(e.x+e.size.x)-e.size.width/2),p=Math.abs(t.y+t.size.y-(e.y+e.size.y)-e.size.height/2),u>e.size.width/2+t.size.radius?!1:p>e.size.height/2+t.size.radius?!1:u<=e.size.width/2?!0:p<=e.size.height/2?!0:(f=u-e.size.width/2,c=p-e.size.height/2,f*f+c*c<=t.size.radius*t.size.radius)}function e(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))<t.radius+e.radius?!0:!1}function i(t,e){return t.x+t.size.x<=e.x+e.size.x+e.size.width&&t.x+t.size.x+t.size.width>=e.x+e.size.x&&t.y+t.size.y<=e.y+e.size.y+e.size.height&&t.y+t.size.y+t.size.height>=e.y+e.size.y?!0:!1}function n(t,e){return t.x>=e.x+e.size.x&&t.x<=e.x+e.size.x+e.size.width&&t.y>=e.y+e.size.y&&t.y<=e.y+e.size.y+e.size.height?!0:!1}function s(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))<=e.radius?!0:!1}function o(t,e){return Math.floor(t.x)==Math.floor(e.x)&&Math.floor(t.y)==Math.floor(e.y)?!0:!1}function h(t,e){if(l=((t.point1.x*t.point2.y-t.point1.y*t.point2.x)*(e.point1.x-e.point2.x)-(t.point1.x-t.point2.x)*(e.point1.x*e.point2.y-e.point1.y*e.point2.x))/((t.point1.x-t.point2.x)*(e.point1.y-e.point2.y)-(t.point1.y-t.point2.y)*(e.point1.x-e.point2.x)),y=((t.point1.x*t.point2.y-t.point1.y*t.point2.x)*(e.point1.y-e.point2.y)-(t.point1.y-t.point2.y)*(e.point1.x*e.point2.y-e.point1.y*e.point2.x))/((t.point1.x-t.point2.x)*(e.point1.y-e.point2.y)-(line.point1.y-t.point2.y)*(e.point1.x-e.point2.x)),isNaN(l)||isNaN(y))return!1;if(t.point1.x>=t.point2.x){
if(!(t.point1.x<=l&&l<=t.point1.x))return!1}else if(!(t.point1.x<=l&&l<=t.point2.x))return!1;if(t.point1.y>=t.point2.y){if(!(t.point2.y<=y&&y<=t.point1.y))return!1}else if(!(t.point1.y<=y&&y<=t.point2.y))return!1;if(e.point1.x>=e.point2.x){if(!(e.point2.x<=l&&l<=e.point1.x))return!1}else if(!(e.point1.x<=l&&l<=e.point2.x))return!1;if(e.point1.y>=e.point2.y){if(!(e.point2.y<=y&&y<=e.point1.y))return!1}else if(!(e.point1.y<=y&&y<=e.point2.y))return!1;return!0}function r(t,e){return n(t.point1,e)||n(t.point2,e)?!0:h(t,{point1:{x:e.x+e.size.x,y:e.y+e.size.y},point2:{x:e.x+e.size.x+e.size.width,y:e.y+e.size.y}})||h(t,{point1:{x:e.x+e.size.x,y:e.y+e.size.y},point2:{x:e.x+e.size.x,y:e.y+e.size.y+e.size.width}})||h(t,{point1:{x:e.x+e.size.x+e.size.width,y:e.y+e.size.y},point2:{x:e.x+e.size.x,y:e.y+e.size.y+e.size.height}})||h(t,{point1:{x:e.x+e.size.x+e.size.height,y:e.y+e.size.y},point2:{x:e.x+e.size.x+e.size.width,y:e.y+e.size.y}})?!0:!1}function a(t,e){return Math.floor(e.y)==Math.floor(t.lineEquation*e.x-(t.lineEquation*t.point1.x-t.point1.y))?!0:!1}function d(t,e){return s(t.point1,e)||s(t.point2,e)?!0:Math.floor(e.y)>=Math.abs(Math.floor(t.lineEquation*e.x-(t.lineEquation*t.point1.x-e.y)-e.size.radius))&&Math.floor(e.y)<=Math.abs(Math.floor(t.lineEquation*e.x-(t.lineEquation*t.point1.x-e.y)+e.size.radius))?!0:!1}var u=0,p=0,f=0,c=0,l=0,y=0;HYPER.Physics.checkCollision=function(u,p){if("rect"==u._ShapeType){if("rect"==p._ShapeType)return i(u,p);if("circle"==p._ShapeType)return t(p,u);if("point"==p._ShapeType)return n(p,u);if("line"==p._ShapeType)return r(p,u)}if("circle"==u._ShapeType){if("rect"==p._ShapeType)return t(u,p);if("circle"==p._ShapeType)return e(u,p);if("point"==p._ShapeType)return s(p,u);if("line"==p._ShapeType)return d(p,u)}if("line"==u._ShapeType){if("rect"==p._ShapeType)return r(u,p);if("circle"==p._ShapeType)return d(u,p);if("point"==p._ShapeType)return a(u,p);if("line"==p._ShapeType)return h(p,u)}if("point"==u._ShapeType){if("rect"==p._ShapeType)return n(u,p);if("circle"==p._ShapeType)return s(u,p);if("point"==p._ShapeType)return o(u,p);if("line"==p._ShapeType)return a(p,u)}},HYPER.Physics.checkSimpleCollision=function(t,e){var i={},n={};return"rect"==t._ShapeType?(i.x=t.x+t.size.x,i.y=t.y+t.size.y,i.width=t.size.width,i.height=t.size.height):"circle"==t._ShapeType?(i.x=t.x-t.size.radius,i.y=t.y+t.size.radius,i.width=2*t.size.radius,i.height=2*t.size.radius):"point"==t._ShapeType?(i.x=t.x,i.y=t.y,i.width=1,i.height=1):"line"==t._ShapeType&&(t.point1.x<=t.point2.x?(i.x=t.point1.x,i.width=t.point2.x-i.x):(i.x=t.point2.x,i.width=t.point1.x-i.x),t.point1.y<=t.point2.y?(i.y=t.point1.y,i.height=t.point2.y-i.y):(i.y=this.point2.y,i.height=t.point1.y-i.y)),"rect"==e._ShapeType?(n.x=e.x+e.size.x,n.y=e.y+e.size.y,n.width=e.size.width,n.height=e.size.height):"circle"==e._ShapeType?(n.x=e.x-e.size.radius,n.y=e.y+e.size.radius,n.width=2*e.size.radius,n.height=2*e.size.radius):"point"==e._ShapeType?(n.x=e.x,n.y=e.y,n.width=1,n.height=1):"line"==e._ShapeType&&(e.point1.x<=e.point2.x?(n.x=e.point1.x,n.width=e.point2.x-n.x):(n.x=e.point2.x,n.width=e.point1.x-n.x),e.point1.y<=e.point2.y?(n.y=e.point1.y,n.height=e.point2.y-n.y):(n.y=e.point2.y,n.height=e.point1.y-n.y)),i.x<n.x+n.width&&i.x+i.width>n.x&&i.y<n.y+n.height&&i.height+i.y>n.y?!0:!1}}(),function(){"use strict";HYPER.Graphics={},HYPER.Graphics.Style=function(t){t="undefined"==typeof t?{}:t,this.alpha="undefined"==typeof t.alpha?1:t.alpha,this.color="undefined"==typeof t.color?"#000000":t.color,this.linecap="undefined"==typeof t.linecap?"butt":t.linecap,this.linejoin="undefined"==typeof t.linejoin?"miter":t.linejoin,this.miterLimit="undefined"==typeof t.miterLimit?10:t.miterLimit,this.strokeColor="undefined"==typeof t.strokeColor?"#000000":t.strokeColor,this.lineWidth="undefined"==typeof t.lineWidth?1:t.lineWidth,this.fill="undefined"==typeof t.fill?!0:t.fill,this.stroke="undefined"==typeof t.stroke?!1:t.stroke,this.lineDashOffset="undefined"==typeof t.lineDashOffset?0:t.lineDashOffset,this.fontSize="undefined"==typeof t.fontSize?10:t.fontSize,this.fontFamily="undefined"==typeof t.fontFamily?"Arial":t.fontFamily,this.globalCompositeOperation="undefined"==typeof t.globalCompositeOperation?"source-over":t.globalCompositeOperation,t.shadow=t.shadow||{},this.shadow=t.shadow,this.shadow.color="undefined"==typeof t.shadow.color?"#000000":t.shadow.color,this.shadow.blur="undefined"==typeof t.shadow.blur?0:t.shadow.blur,this.shadow.offsetX="undefined"==typeof t.shadow.offsetX?0:t.shadow.offsetX,this.shadow.offsetY="undefined"==typeof t.shadow.offsetY?0:t.shadow.offsetY}}(),function(){"use strict";HYPER.Graphics.Rect=function(t){this._ShapeType="rect",this._ID=Math.random()*Math.random(),this.x="undefined"==typeof t.x?0:t.x,this.y="undefined"==typeof t.y?0:t.y,this.width="undefined"==typeof t.width?32:t.width,this.height="undefined"==typeof t.height?32:t.height,this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?this.height/2:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?this.width/2:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.width="undefined"==typeof t.size.width?this.width:t.size.width,this.size.height="undefined"==typeof t.size.height?this.height:t.size.height,this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(var i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[]},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){1==this.visable&&(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.degrees=Math.floor(this.degrees),HYPER.Graphics.setStyle(t.ctx,this.style),t.ctx.beginPath(),0!=this.degrees?(t.ctx.translate(this.x-t.camera.x+this.rotation.x,this.y-t.camera.y+this.rotation.y),t.ctx.rotate(this.degrees*Math.PI/180),t.ctx.rect(-this.rotation.x,-this.rotation.y,this.width,this.height),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke(),t.ctx.rotate(-(this.degrees*Math.PI/180)),t.ctx.translate(-(this.x-t.camera.x+this.rotation.x),-(this.y-t.camera.y+this.rotation.y))):(t.ctx.rect(this.x,this.y,this.width,this.height),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke()),t.ctx.closePath()),this.render(t)},this.update=t.update||function(){},this._update=function(t){this.update(t),this.physics.update(),1==this.size.autoAdjust&&(this.size.width=this.width,this.size.height=this.height),this.degrees>=360&&(this.degrees-=360);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,this._pointerX>=this.x+this.size.x&&this._pointerX<=this.x+this.size.width&&this._pointerY>=this.y+this.size.y&&this._pointerY<=this.y+this.size.height){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.Graphics.Circle=function(t){this._ShapeType="circle",this._ID=Math.random()*Math.random(),this.x="undefined"==typeof t.x?0:t.x,this.y="undefined"==typeof t.y?0:t.y,this.radius="undefined"==typeof t.radius?32:t.radius,this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.startAngle="undefined"==typeof t.startAngle?0:t.startAngle,this.endAngle="undefined"==typeof t.endAngle?360:t.endAngle,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?0:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?0:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.radius="undefined"==typeof t.size.radius?this.radius:t.size.radius,this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[]},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){1==this.visable&&(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.radius=Math.floor(this.radius),this.degrees=Math.floor(this.degrees),HYPER.Graphics.setStyle(t.ctx,this.style),t.ctx.beginPath(),0!=this.degrees?(t.ctx.translate(this.x-t.camera.x+this.rotation.x,this.y-t.camera.y+this.rotation.y),t.ctx.rotate(this.degrees*Math.PI/180),t.ctx.arc(-this.rotation.x,-this.rotation.y,this.radius,this.startAngle*Math.PI/180,this.endAngle*Math.PI/180,!1),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke(),t.ctx.rotate(-(this.degrees*Math.PI/180)),t.ctx.translate(-(this.x-t.camera.x+this.rotation.x),-(this.y-t.camera.y+this.rotation.y))):(t.ctx.arc(this.x,this.y,this.radius,this.startAngle*Math.PI/180,this.endAngle*Math.PI/180,!1),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke()),t.ctx.closePath()),this.render(t)},this.update=t.update||function(){},this._update=function(t){this.update(t),this.physics.update(),this.degrees>=360&&(this.degrees-=360),1==this.size.autoAdjust&&(this.size.radius=this.radius);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,Math.sqrt((this.x-this._pointerX)*(this.x-this._pointerX)+(this.y-this._pointerY)*(this.y-this._pointerY))<this.radius){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.Graphics.Line=function(t){this._ShapeType="line",this._ID=Math.random()*Math.random(),t.point1=t.point1||{x:0,y:0},t.point2=t.point2||{x:10,y:10},this.x=0,this.y=0,this.point1=t.point1,this.point2=t.point2,this.lineEquation=(this.point1.y-this.point2.y)/(this.point1.x-this.point2.x),this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?0:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?0:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.width="undefined"==typeof t.size.width?this.width:t.size.width,this.size.height="undefined"==typeof t.size.height?this.height:t.size.height,this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(var i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[]},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){1==this.visable&&(this.point1.x=Math.floor(this.point1.x),this.point1.y=Math.floor(this.point1.y),this.point2.x=Math.floor(this.point2.x),this.point2.y=Math.floor(this.point2.y),this.degrees=Math.floor(this.degrees),HYPER.Graphics.setStyle(t.ctx,this.style),t.ctx.beginPath(),0!=this.degrees?(t.ctx.translate(this.x-t.camera.x+this.rotation.x,this.y-t.camera.y+this.rotation.y),t.ctx.rotate(this.degrees*Math.PI/180),t.ctx.moveTo(this.point1.x,this.point1.y),t.ctx.lineTo(this.point2.x,this.point2.y),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke(),t.ctx.rotate(-(this.degrees*Math.PI/180)),t.ctx.translate(-(this.x-t.camera.x+this.rotation.x),-(this.y-t.camera.y+this.rotation.y))):(t.ctx.moveTo(this.point1.x,this.point1.y),t.ctx.lineTo(this.point2.x,this.point2.y),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke()),t.ctx.closePath()),this.render(t)},this.update=t.update||function(){},this._update=function(t){this.update(t),this.physics.update(),this.lineEquation=(this.point1.y-this.point2.y)/(this.point1.x-this.point2.x),this.point1.x<=this.point2.x?(this.x=this.point1.x,this.size.width=this.point2.x-this.x):(this.x=this.point2.x,this.size.width=this.point1.x-this.x),this.point1.y<=this.point2.y?(this.y=this.point1.y,this.size.height=this.point2.y-this.y):(this.y=this.point2.y,this.size.height=this.point1.y-this.y),this.degrees>=360&&(this.degrees-=360);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,this._pointerX>=this.x+this.size.x&&this._pointerX<=this.x+this.size.width&&this._pointerY>=this.y+this.size.y&&this._pointerY<=this.y+this.size.height&&Math.floor(this._pointerY)==Math.floor(this.lineEquation*this._pointerX-(this.lineEquation*this.point1.x-this.point1.y))){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.Graphics.Bitmap=function(t){this._ShapeType="rect",this._ID=Math.random()*Math.random(),this.x="undefined"==typeof t.x?0:t.x,this.y="undefined"==typeof t.y?0:t.y,this.img=t.img,this.width="undefined"==typeof t.width?this.img.image.width:t.width,this.height="undefined"==typeof t.height?this.img.image.height:t.height,this.sx="undefined"==typeof t.sx?0:t.sx,this.sy="undefined"==typeof t.sy?0:t.sy,this.sWidth="undefined"==typeof t.sWidth?this.img.image.width:t.sWidth,this.sHeight="undefined"==typeof t.sHeight?this.img.image.height:t.sHeight,this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?this.height/2:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?this.width/2:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.width="undefined"==typeof t.size.width?this.width:t.size.width,this.size.height="undefined"==typeof t.size.height?this.height:t.size.height,this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(var i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[]},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){1==this.visable&&(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.degrees=Math.floor(this.degrees),HYPER.Graphics.setStyle(t.ctx,this.style),t.ctx.beginPath(),0!=this.degrees?(t.ctx.translate(this.x-t.camera.x+this.rotation.x,this.y-t.camera.y+this.rotation.y),t.ctx.rotate(this.degrees*Math.PI/180),t.ctx.drawImage(this.img.image,this.sx,this.sy,this.sWidth,this.sHeight,-this.rotation.x,-this.rotation.y,this.width,this.height),t.ctx.rotate(-(this.degrees*Math.PI/180)),t.ctx.translate(-(this.x-t.camera.x+this.rotation.x),-(this.y-t.camera.y+this.rotation.y))):(t.ctx.drawImage(this.img.image,this.sx,this.sy,this.sWidth,this.sHeight,this.x,this.y,this.width,this.height),1==this.style.fill&&t.ctx.fill(),1==this.style.stroke&&t.ctx.stroke()),t.ctx.closePath()),this.render(t)},this.update=t.update||function(){},this._update=function(t){this.update(t),this.physics.update(),1==this.size.autoAdjust&&(this.size.width=this.width,this.size.height=this.height),this.degrees>=360&&(this.degrees-=360);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,this._pointerX>=this.x+this.size.x&&this._pointerX<=this.x+this.size.width&&this._pointerY>=this.y+this.size.y&&this._pointerY<=this.y+this.size.height){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.Graphics.Animation=function(t){this._viewType="animation",this._ShapeType="rect",this._ID=Math.random()*Math.random(),this.spriteSheet=t.spriteSheet||console.error("Define spriteSheet"),this.frames=t.frames||[],this.loop=t.loop||!1,this.currentFrame=t.currentFrame||0,this.paused=t.paused||!1,this.FPS=t.FPS||30,this._InfoAnimate={},this.play=function(){this.paused=!1},this.pause=function(){this.paused=!0},this.stop=function(){this.paused=!0,this.currentFrame=0},this.setFPS=function(t){this.FPS=t},this._animeCounter=0,this._previousAnimeCounter=0;this.x="undefined"==typeof t.x?0:t.x,this.y="undefined"==typeof t.y?0:t.y,this.width="undefined"==typeof t.width?this.spriteSheet.frame.width:t.width,this.height="undefined"==typeof t.height?this.spriteSheet.frame.height:t.height,this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?this.height/2:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?this.width/2:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.width="undefined"==typeof t.size.width?this.width:t.size.width,this.size.height="undefined"==typeof t.size.height?this.height:t.size.height,this.onend=function(){},this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onend=[],this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(var i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[]},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){if(1==this.visable)if(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.degrees=Math.floor(this.degrees),HYPER.Graphics.setStyle(t.ctx,this.style),0!=this.degrees){t.ctx.translate(this.x-t.camera.x+this.rotation.x,this.y-t.camera.y+this.rotation.y),t.ctx.rotate(this.degrees*Math.PI/180),this._InfoAnimate.currentFrame=0;for(var e=0;e<this.spriteSheet.framesTall;e++)for(var i=0;i<this.spriteSheet.framesWide;i++)this._InfoAnimate.currentFrame++,this.frames[this.currentFrame]+1==this._InfoAnimate.currentFrame&&t.ctx.drawImage(this.spriteSheet.image,i*this.spriteSheet.frame.width,e*this.spriteSheet.frame.height,this.spriteSheet.frame.width,this.spriteSheet.frame.height,-this.rotation.x,-this.rotation.y,this.width,this.height);t.ctx.rotate(-(this.degrees*Math.PI/180)),t.ctx.translate(-(this.x-t.camera.x+this.rotation.x),-(this.y-t.camera.y+this.rotation.y))}else{this._InfoAnimate.currentFrame=0;for(var e=0;e<this.spriteSheet.framesTall;e++)for(var i=0;i<this.spriteSheet.framesWide;i++)this._InfoAnimate.currentFrame++,this.frames[this.currentFrame]+1==this._InfoAnimate.currentFrame&&t.ctx.drawImage(this.spriteSheet.image,i*this.spriteSheet.frame.width,e*this.spriteSheet.frame.height,this.spriteSheet.frame.width,this.spriteSheet.frame.height,this.x,this.y,this.width,this.height)}this.render(t)},this.update=t.update||function(){},this._update=function(t){if(0==this.paused)if(this._animeCounter+=this.FPS/HYPER.Timer.Tick.FPS,this.FPS==HYPER.Timer.Tick.FPS){if(this.currentFrame++,this.currentFrame>=this.frames.length){this.currentFrame=0,0==this.loop&&(this.paused=!0),this.onend();for(var e=0;e<this.events.onend.length;e++)this.events.onend[e]()}}else{if(this.FPS/HYPER.Timer.Tick.FPS>1){for(var e=0;e<this._animeCounter;e++)if(this.currentFrame++,this.currentFrame>=this.frames.length){this.currentFrame=0,0==this.loop&&(this.paused=!0),this.onend();for(var e=0;e<this.events.onend.length;e++)this.events.onend[e]()}this._animeCounter-=Math.floor(this._animeCounter+1)}else if(this._animeCounter>=1&&(this._animeCounter-1,this.currentFrame++,this.currentFrame>=this.frames.length)){this.currentFrame=0,0==this.loop&&(this.paused=!0),this.onend();for(var e=0;e<this.events.onend.length;e++)this.events.onend[e]()}this._animeCounter%1==0&&(this._animeCounter=0)}this.update(t),this.physics.update(),1==this.size.autoAdjust&&(this.size.width=this.width,this.size.height=this.height),this.degrees>=360&&(this.degrees-=360);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,this._pointerX>=this.x+this.size.x&&this._pointerX<=this.x+this.size.width&&this._pointerY>=this.y+this.size.y&&this._pointerY<=this.y+this.size.height){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.Graphics.Text=function(t){this._ShapeType="rect",this._ID=Math.random()*Math.random(),this.cashed=t.cashed,this.image=document.createElement("canvas"),this.ctx=this.image.getContext("2d"),this.text=t.text||"Hello World",this.x="undefined"==typeof t.x?0:t.x,this.y="undefined"==typeof t.y?0:t.y,this.width="undefined"==typeof t.width?32:t.width,this.height="undefined"==typeof t.height?32:t.height,this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?this.height/2:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?this.width/2:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.width="undefined"==typeof t.size.width?this.width:t.size.width,this.size.height="undefined"==typeof t.size.height?this.height:t.size.height,this.cash=function(){HYPER.Graphics.setStyle(this.ctx,this.style),this.image.width=this.ctx.measureText(this.text).width,this.image.height=this.style.fontSize,this.width=this.image.width,this.height=this.image.height,HYPER.Graphics.setStyle(this.ctx,this.style),this.ctx.clearRect(0,0,this.image.width,this.image.height),this.ctx.textAlign="left",this.ctx.textBaseline="top",1==this.style.fill&&this.ctx.fillText(this.text,0,0),1==this.style.stroke&&this.ctx.strokeText(this.text,0,0)},this.cash(),this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(var i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[];
},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){1==this.visable&&(this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.degrees=Math.floor(this.degrees),HYPER.Graphics.setStyle(t.ctx,this.style),0!=this.degrees?(t.ctx.translate(this.x-t.camera.x+this.rotation.x,this.y-t.camera.y+this.rotation.y),t.ctx.rotate(this.degrees*Math.PI/180),1==this.cashed?t.ctx.drawImage(this.image,-this.rotation.x,-this.rotation.y,this.width,this.height):(1==this.style.fill&&t.ctx.fillText(this.text,-this.rotation.x,-this.rotation.y),1==this.style.stroke&&t.ctx.strokeText(this.text,-this.rotation.x,-this.rotation.y)),t.ctx.rotate(-(this.degrees*Math.PI/180)),t.ctx.translate(-(this.x-t.camera.x+this.rotation.x),-(this.y-t.camera.y+this.rotation.y))):1==this.cashed?t.ctx.drawImage(this.image,this.x,this.y,this.width,this.height):(1==this.style.fill&&t.ctx.fillText(this.text,this.x,this.y),1==this.style.stroke&&t.ctx.strokeText(this.text,this.x,this.y))),this.render(t)},this.update=t.update||function(){},this._update=function(t){this.update(t),this.physics.update(),1==this.size.autoAdjust&&(this.size.width=this.width,this.size.height=this.height),this.degrees>=360&&(this.degrees-=360);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,this._pointerX>=this.x+this.size.x&&this._pointerX<=this.x+this.size.width&&this._pointerY>=this.y+this.size.y&&this._pointerY<=this.y+this.size.height){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.Graphics.CreateBitmap=function(t){this._viewType="bitmap",this.image=document.createElement("canvas"),this.ctx=this.image.getContext(),this.image.width=t.width||32,this.image.height=t.height||32,this.drawTo=function(t){t._render({camera:{x:0,y:0,width:this.image.width,height:this.image.height},ctx:this.ctx,offsetLeft:0,offsetTop:0,view:{width:this.width,height:this.height},alpha:1})},this.clear=function(){ctx.clearRect(0,0,this.image.width,this.image.height)}}}(),function(){"use strict";HYPER.Graphics.CreateSpriteSheet=function(t){this.image=t.img.image,this.ctx=t.img.ctx,this.image.width=t.img.image.width||32,this.image.height=t.img.image.height||32,this.frame={},t.frame=t.frame||{},this.frame.width="undefined"==typeof t.frame.width?0:t.frame.width,this.frame.height="undefined"==typeof t.frame.height?0:t.frame.height,this.framesWide=Math.floor(this.image.width/this.frame.width),this.framesTall=Math.floor(this.image.height/this.frame.height)}}(),function(){"use strict";HYPER.Graphics.setStyle=function(t,e){t.globalAlpha=e.alpha,t.fillStyle=e.color,t.lineCap=e.lineCap,t.linejoin=e.linejoin,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeColor,t.lineWidth=e.lineWidth,t.lineDashOffset=e.lineDashOffset,t.textAlign="left",t.textBaseline="top",t.font=e.fontSize+"px "+e.fontFamily,t.globalCompositeOperation=e.globalCompositeOperation,t.shadowColor=e.shadow.color,t.shadowBlur=e.shadow.blur,t.shadowOffsetX=e.shadow.offsetX,t.shadowOffsetY=e.shadow.offsetY}}(),function(){"use strict";HYPER.Sprite=function(t){this.children=[],this.addChild=function(t){this.children.push(t)},this.removeChild=function(t){for(i=0;i<this.children.length;i++)this.children[i]._ID==t._ID&&this.children.splice(i,1)},this.removeAllChildren=function(t){this.children=[]},this._ShapeType="rect",this._ID=Math.random()*Math.random(),this.x="undefined"==typeof t.x?0:t.x,this.y="undefined"==typeof t.y?0:t.y,this.width="undefined"==typeof t.width?32:t.width,this.height="undefined"==typeof t.height?32:t.height,this.zIndex="undefined"==typeof t.zIndex?0:t.zIndex,this.degrees="undefined"==typeof t.degrees?0:t.degrees,this.rotation=t.rotation||{},t.rotation=t.rotation||{},this.rotation.y="undefined"==typeof t.rotation.y?this.height/2:t.rotation.y,this.rotation.x="undefined"==typeof t.rotation.x?this.width/2:t.rotation.x,this.visable="undefined"==typeof t.visable?!0:t.visable,this.style=new HYPER.Graphics.Style(t.style),t.size=t.size||{},this.size=t.size,this.size.autoAdjust="undefined"==typeof t.size.autoAdjust?!0:t.size.autoAdjust,this.size.x="undefined"==typeof t.size.x?0:t.size.x,this.size.y="undefined"==typeof t.size.y?0:t.size.y,this.size.width="undefined"==typeof t.size.width?this.width:t.size.width,this.size.height="undefined"==typeof t.size.height?this.height:t.size.height,this.onclick=function(){},this.onhold=function(){},this.onup=function(){},this.ondown=function(){},this.onhover=function(){},this.ondblclick=function(){},this.events={},this.events.onclick=[],this.events.onhold=[],this.events.onup=[],this.events.ondown=[],this.events.onhover=[],this.events.ondblclick=[],this.addEventListener=function(t,e){return"undefined"!=typeof this.events[t]?(e._ID=Math.random()*Math.random(),this.events[t].push(e),e._ID):void console.error(t+" is not a real event")},this.removeEventListener=function(t,e){if("undefined"==typeof this.events[t])console.error(t+" is not a real event");else for(var i=0;i<this.events[t].length;i++)(this.events[t]._ID==e||this.events[t]._ID==e._ID)&&this.events[t].splice(i,1)},this.removeAllEventListeners=function(t){"undefined"==typeof this.events[t]?console.error(t+" is not a real event"):this.events[t]=[]},this.physics={},this.physics.update=function(){},this.render=t.render||function(){},this._render=function(t){if(1==this.visable)for(var e=0;e<this.children.length;e++)this.children[e]._render({camera:{x:this.x+t.camera.x,y:this.y+t.camera.y,width:this.width,height:this.height},ctx:t.ctx,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,view:t.view,alpha:this.alpha});this.render(t)},this.update=t.update||function(){},this._update=function(t){for(var e=0;e<this.children.length;e++)this.children[e]._update({camera:{x:this.x+t.camera.x,y:this.y+t.camera.y,width:this.width,height:this.height},offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,view:t.view});this.update(t),this.physics.update(),1==this.size.autoAdjust&&(this.size.width=this.width,this.size.height=this.height),this.degrees>=360&&(this.degrees-=360);for(var e=0;10>e;e++)if(this._pointerX=(HYPER.Input.Pointer.getPointer(e).x-t.offsetLeft)*(t.camera.width/t.view.width)-t.camera.x,this._pointerY=(HYPER.Input.Pointer.getPointer(e).y-t.offsetTop)*(t.camera.height/t.view.height)-t.camera.y,this._pointerX>=this.x+this.size.x&&this._pointerX<=this.x+this.size.width&&this._pointerY>=this.y+this.size.y&&this._pointerY<=this.y+this.size.height){this._InputInfo={x:this._pointerX,y:this._pointerY};for(var i=0;i<this.events.onhover.length;i++)this.events.onhover[i](this._InputInfo),this.onhover(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).down)for(var i=0;i<this.events.ondown.length;i++)this.events.ondown[i](this._InputInfo),this.ondown(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).up){for(var i=0;i<this.events.onup.length;i++)this.events.onup[i](this._InputInfo),this.onup(this._InputInfo);for(var i=0;i<this.events.onclick.length;i++)this.events.onclick[i](this._InputInfo),this.onclick(this._InputInfo)}if(1==HYPER.Input.Pointer.getPointer(e).hold)for(var i=0;i<this.events.onhold.length;i++)this.events.onhold[i](this._InputInfo),this.onhold(this._InputInfo);if(1==HYPER.Input.Pointer.getPointer(e).dblclick)for(var i=0;i<this.events.ondblclick.length;i++)this.events.ondblclick[i](this._InputInfo),this.ondblclick(this._InputInfo)}}}}(),function(){"use strict";HYPER.update=function(){HYPER.Stage.current.update()},HYPER.render=function(){HYPER.Stage.current.render()},HYPER.init=function(){HYPER.Input.init(),HYPER.Timer.Tick._loop(),HYPER.Timer.Animate._loop(),HYPER.Timer.addEventListener("tick",HYPER.update),HYPER.Timer.addEventListener("animate",HYPER.render)}}();